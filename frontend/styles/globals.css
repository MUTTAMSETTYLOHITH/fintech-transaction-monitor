/* ---------- THEME: richer palette, refined depth ---------- */
:root{
  --bg:#0a0f1a; --panel:#0e1627; --panel-2:#0b1222;
  --text:#e8eef8; --muted:#9fb0c6; --border:#17233a;
  --brand:#3b82f6; --ok:#10b981; --warn:#f59e0b; --bad:#ef4444;
  --radius:16px;
  --shadow-sm:0 6px 16px rgba(0,0,0,.35);
  --shadow-md:0 12px 28px rgba(0,0,0,.45);
  --ring:0 0 0 3px rgba(59,130,246,.35), 0 1px 0 0 rgba(255,255,255,.06) inset;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;background:radial-gradient(1200px 800px at 10% -10%, #0b1530 0%, transparent 60%), var(--bg);
  color:var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Inter, Roboto, Helvetica, Arial;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

/* ---------- LAYOUT ---------- */
.app-shell{display:grid;grid-template-columns:280px 1fr;min-height:100vh}

/* Sidebar: stronger visual identity */
.sidebar{
  background:
    radial-gradient(700px 400px at 0% 0%, rgba(59,130,246,.12), transparent 60%),
    linear-gradient(180deg,#0a1120,#0a1426 50%,#091020);
  border-right:1px solid var(--border);
  padding:18px 14px 18px 16px;
}
.brand{display:flex;align-items:center;gap:10px;margin:6px 8px 16px 8px;font-weight:900;font-size:18px;letter-spacing:.3px}
.sechead{color:var(--muted);font-size:11px;font-weight:800;opacity:.9;margin:14px 10px 8px;letter-spacing:.8px;text-transform:uppercase}

/* Nav items: pill + accent bar + hover lift */
.nav a{
  display:flex;align-items:center;gap:10px;
  padding:10px 12px; margin:4px 6px; border-radius:12px;
  color:var(--muted); text-decoration:none; border:1px solid transparent;
  position:relative; transition:transform .12s ease, box-shadow .12s ease, background .12s ease, color .12s ease;
}
.nav a:hover{color:var(--text); background:rgba(59,130,246,.08); border-color:#1f2b46; transform:translateY(-1px)}
.nav a.active{
  color:var(--text);
  background:linear-gradient(180deg,#0f1b33,#0d1730);
  border-color:#20314f;
  box-shadow:inset 0 0 0 1px rgba(59,130,246,.28), var(--shadow-sm);
}
.nav a.active::before{
  content:""; position:absolute; left:-7px; top:8px; bottom:8px; width:4px; border-radius:4px; background:var(--brand);
  box-shadow:0 0 8px rgba(59,130,246,.45);
}
.icon{width:18px;height:18px;display:inline-grid;place-items:center;opacity:.9}
.badge{
  margin-left:auto; font-size:11px; padding:2px 8px; border-radius:9999px;
  background:#12233f; color:#dbeafe; border:1px solid #1f2a44;
}
.badge.warn{background:#2a1f07;color:#fde68a;border-color:#3a2b0d;animation:pulse 2.4s infinite}
.badge.bad{background:#2a0a0a;color:#fecaca;border-color:#3a0f0f;animation:pulse 1.8s infinite}
@keyframes pulse{0%,100%{filter:brightness(1)}50%{filter:brightness(1.25)}}

/* Topbar: glassy + crisp */
.topbar{
  position:sticky; top:0; z-index:5;
  background:rgba(12,18,33,.6); backdrop-filter:saturate(125%) blur(10px);
  border-bottom:1px solid var(--border);
  display:flex;align-items:center;justify-content:space-between;padding:14px 22px;
}

/* Content cards and grids */
.content{padding:22px 26px 40px}
.grid{display:grid;gap:18px;grid-template-columns:1fr 1fr}
@media (max-width:1100px){.grid{grid-template-columns:1fr}}

.card{
  background:
    linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0) 40%),
    linear-gradient(180deg,var(--panel),var(--panel-2));
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow-md);
  padding:18px;
  transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease;
}
.card:hover{transform:translateY(-2px); box-shadow:0 16px 40px rgba(0,0,0,.55); border-color:#263756}

/* KPI cards */
.kpis{display:grid;gap:14px;grid-template-columns:repeat(4,1fr)}
@media (max-width:1100px){.kpis{grid-template-columns:repeat(2,1fr)}}
.kpi h4{margin:0 0 6px;font-size:12.5px;color:var(--muted);font-weight:800;letter-spacing:.25px;text-transform:uppercase}
.kpi .val{font-size:28px;font-weight:900;letter-spacing:.2px}
.kpi .delta{margin-top:4px;font-size:12px;opacity:.95}
.kpi .good{color:var(--ok)} .kpi .bad{color:var(--bad)}

/* Section headings with accent underline */
.section-title{
  margin:6px 0 14px;font-size:18px;font-weight:900;letter-spacing:.2px;position:relative;padding-bottom:6px
}
.section-title::after{
  content:""; position:absolute; left:0; bottom:0; width:64px; height:3px;
  background:linear-gradient(90deg,var(--brand),transparent);
  border-radius:4px; filter:drop-shadow(0 2px 4px rgba(59,130,246,.35));
}

/* Subtle caption text */
.legend{color:var(--muted);font-size:12px}

/* ---------- FORMS & BUTTONS ---------- */
input, select, button{
  font:inherit; color:inherit;
}
input, select{
  background:#0d1629; color:var(--text);
  border:1px solid #1e2a45; border-radius:10px; padding:10px 12px;
  transition:border-color .15s ease, box-shadow .15s ease;
}
input:focus, select:focus{outline:none; box-shadow:var(--ring); border-color:#284172}

button{
  background:#1b2a47; color:#e6eefc; border:1px solid #273a60; border-radius:10px; padding:10px 14px;
  cursor:pointer; transition:transform .08s ease, box-shadow .12s ease, background .12s ease, border-color .12s ease;
}
button:hover{transform:translateY(-1px); box-shadow:0 10px 24px rgba(0,0,0,.35)}
button:active{transform:translateY(0)}
button:focus-visible{box-shadow:var(--ring)}

/* Prominent primary button style (when inline styles set bg, this still helps focus/hover) */
button[style*="#2563eb"]{box-shadow:0 10px 24px rgba(37,99,235,.25)}
button[style*="#ef4444"]{box-shadow:0 10px 24px rgba(239,68,68,.2)}
button[style*="#16a34a"]{box-shadow:0 10px 24px rgba(22,163,74,.2)}

/* ---------- TABLES ---------- */
table{border-spacing:0}
th, td{padding:10px 12px}
thead tr{background:rgba(16,26,46,.6); backdrop-filter:saturate(120%) blur(4px)}
tbody tr{transition:background .12s ease}
tbody tr:hover{background:rgba(59,130,246,.06)}
tbody tr td:first-child{border-top-left-radius:10px}
tbody tr td:last-child{border-top-right-radius:10px}

/* ---------- RECHARTS TOOLTIP POLISH ---------- */
.recharts-default-tooltip{
  background:linear-gradient(180deg,#0f172a,#0b1222) !important;
  border:1px solid #20314f !important;
  border-radius:10px !important;
  color:var(--text) !important;
  box-shadow:var(--shadow-sm) !important;
  padding:8px 10px !important;
}

/* ---------- SCROLLBARS (Windows friendly) ---------- */
*{
  scrollbar-width:thin; scrollbar-color:#233656 transparent;
}
*::-webkit-scrollbar{height:10px;width:10px}
*::-webkit-scrollbar-track{background:transparent}
*::-webkit-scrollbar-thumb{background:#233656;border-radius:10px;border:2px solid transparent;background-clip:padding-box}
*::-webkit-scrollbar-thumb:hover{background:#2e4a7e}

/* ---------- SMALL UTILS ---------- */
.fade-in{animation:fade .2s ease}
@keyframes fade{from{opacity:0; transform:translateY(2px)} to{opacity:1; transform:none}}
